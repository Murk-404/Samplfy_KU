import fs from 'fs-extra';
import { join } from 'path';

const writeJSON = async ({
  path,
  fileName,
  data,
  compact = false
}) => {
  if (!fileName.endsWith('.json')) {
    fileName += '.json';
  }

  path = join(process.cwd(), path);
  data = compact ? JSON.stringify(data) : JSON.stringify(data, null, 2);
  await fs.outputFile(join(path, fileName), data);
  return path;
};

export { writeJSON };
